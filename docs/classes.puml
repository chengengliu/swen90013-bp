@startuml classes

namespace org {
    namespace apromore {
        namespace service {
            namespace FileImporterLogic {
                namespace impl {
                    class FileImporterLogicImpl
                    class JoinImpl
                    class OperationImpl

                    FileImporterLogicImpl ..|> org.apromore.service.FileImporterLogic.FileImporterLogic
                    JoinImpl ..|> org.apromore.service.FileImporterLogic.Join
                    OperationImpl ..|> org.apromore.service.FileImporterLogic.Operation
                }

                enum OperationType {
                    SELECT
                    CONCATENATE
                    MIN
                    MAX
                    MEDIAN
                    MEAN
                    ORDER
                }

                enum JoinType {
                    LEFT
                    INNER
                    RIGHT
                    FULL_OUTER
                }

                interface FileImporterLogic {
                    + String[][] getSnippet(String[] files, String[] operations, int rows)
                    + void exportFiles(String[] files)
                    + void joinFiles(String[] files, Join[] joins)
                    + void applyOperations(Sring[] files, Operation[] operations)
                }

                Operation --* "1" OperationType : + operationType
                Join --* "1..*" JoinType : + joinTypes
            }
        }

        namespace plugin {
            namespace portal {
                namespace FileImporterPortal {
                    namespace impl {
                        class FileUploadServiceImpl
                        class FileImporterServiceImpl

                        FileUploadServiceImpl ..|> org.apromore.plugin.portal.FileImporterPortal.FileUploadService
                        FileImporterServiceImpl ..|> org.apromore.plugin.portal.FileImporterPortal.FileImporterService
                        FileImporterServiceImpl --* "1" org.apromore.service.FileImporterLogic.FileImporterLogic : - fileImporterLogic
                    }

                    class FileUploadViewModel {
                        + void init()
                        + void onFileUpload()
                    }

                    interface FileUploadService {
                        + void writeFiles(Media[] media)
                    }

                    class FileImporterViewModel {
                        + void init()
                        + void onFileImport()
                    }

                    interface FileImporterService {
                        + void getSnippet(Operation[] operations)
                        + void importFiles(Media[] media, Operation[] operations)
                    }

                    FileUploadViewModel --* "1" FileUploadService : - fileUploadService
                    FileImporterViewModel --* "1" FileImporterService : - fileImporterService
                }
            }
        }
    }
}

@enduml
